<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>react 搜索组件 | wenyan&#39;s blog | Never give up yourself, nothing is imposible</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#2ca6cb">
    
    
    <meta name="keywords" content="React">
    <meta name="description" content="主要实现的功能 ​    能够实时搜索，能够手动搜索、清除 ​    能根据不同类型显示各种表单类型，例如：日期、文本框、下拉列表 ​    每个搜索选项，可以根据需要设置单选或多选操">
<meta property="og:type" content="article">
<meta property="og:title" content="react 搜索组件">
<meta property="og:url" content="http://zhuwenyan.com/2020/04/11/reactsearchcomponent/index.html">
<meta property="og:site_name" content="wenyan&#39;s blog">
<meta property="og:description" content="主要实现的功能 ​    能够实时搜索，能够手动搜索、清除 ​    能根据不同类型显示各种表单类型，例如：日期、文本框、下拉列表 ​    每个搜索选项，可以根据需要设置单选或多选操">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://zhuwenyan.com/.com//search.png">
<meta property="article:published_time" content="2020-04-10T16:09:29.306Z">
<meta property="article:modified_time" content="2020-05-24T12:54:06.122Z">
<meta property="article:author" content="wenyan">
<meta property="article:tag" content="React">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://zhuwenyan.com/.com//search.png">
    
        <link rel="alternate" type="application/atom+xml" title="wenyan&#39;s blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">wenyan</h5>
          <a href="mailto:18319981182@163.com" title="18319981182@163.com" class="mail">18319981182@163.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/zwy942652315" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">react 搜索组件</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">react 搜索组件</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-04-10T16:09:29.306Z" itemprop="datePublished" class="page-time">
  2020-04-11
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#主要实现的功能"><span class="post-toc-number">1.</span> <span class="post-toc-text">主要实现的功能</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#实现过程"><span class="post-toc-number">2.</span> <span class="post-toc-text">实现过程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#构建组件结构"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">构建组件结构</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#添加反向数据流"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">添加反向数据流</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#代码结构"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">代码结构</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#性能优化"><span class="post-toc-number">3.</span> <span class="post-toc-text">性能优化</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#不足之处"><span class="post-toc-number">4.</span> <span class="post-toc-text">不足之处</span></a></li></ol>
        </nav>
    </aside>


<article id="post-reactSearchComponent"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">react 搜索组件</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-04-11 00:09:29" datetime="2020-04-10T16:09:29.306Z"  itemprop="datePublished">2020-04-11</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/.com//search.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<h3 id="主要实现的功能"><a href="#主要实现的功能" class="headerlink" title="主要实现的功能"></a>主要实现的功能</h3><ol>
<li>​    能够实时搜索，能够手动搜索、清除</li>
<li>​    能根据不同类型显示各种表单类型，例如：日期、文本框、下拉列表</li>
<li>​    每个搜索选项，可以根据需要设置单选或多选操作</li>
</ol>
<h3 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h3><h4 id="构建组件结构"><a href="#构建组件结构" class="headerlink" title="构建组件结构"></a>构建组件结构</h4><p>​        基于ant design 的 Form表单进行开发，主要分为两部分，表单搜索选项和表单搜索、清除按钮，</p>
<p>​        表单搜索选项，是一些常见的表单选项，如果是一些不常见表单类型，采用自定义表单组件</p>
<p>​        实时搜索，主要调用了Form表单的 onValuesChange 方法</p>
<p>配置项：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>描述</th>
<th>是否必填</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>formInitialValue</td>
<td>Array</td>
<td>初始值</td>
<td>可选</td>
<td>无</td>
</tr>
<tr>
<td>filterConfig</td>
<td>Array</td>
<td>搜索项字段配置</td>
<td>必填</td>
<td>无</td>
</tr>
<tr>
<td>buttonLocation</td>
<td>String</td>
<td>按钮位置</td>
<td>可选</td>
<td>left</td>
</tr>
<tr>
<td>okButtonStyle</td>
<td>String</td>
<td>搜索按钮样式</td>
<td>可选</td>
<td>无</td>
</tr>
<tr>
<td>resetButtonStyle</td>
<td>String</td>
<td>清除按钮样式</td>
<td>可选</td>
<td>无</td>
</tr>
<tr>
<td>onSubmit</td>
<td>Function</td>
<td>搜索事件</td>
<td>可选</td>
<td>无</td>
</tr>
<tr>
<td>onReset</td>
<td>Function</td>
<td>清除事件</td>
<td>可选</td>
<td>无</td>
</tr>
</tbody></table>
<p>filterConfig</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>描述</th>
<th>是否必填</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>label</td>
<td>String</td>
<td>字段 标签</td>
<td>是</td>
<td>无</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>字段 name</td>
<td>是</td>
<td>无</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>搜索类型（多选按钮或者单选按钮: Button（默认）、日期: Date、下拉选择: Select、文本框: Text）</td>
<td></td>
<td>Button</td>
</tr>
<tr>
<td>options</td>
<td>Array</td>
<td>type为 Button、Select 时</td>
<td>否</td>
<td>无</td>
</tr>
</tbody></table>
<h4 id="添加反向数据流"><a href="#添加反向数据流" class="headerlink" title="添加反向数据流"></a>添加反向数据流</h4><p>​        Form 会对直接子元素绑定表单功能，即不用去手动绑定，就能获取其数据，但是对于一些自定义表单组件，就要提供 onChange 事件或 trigger 的值同名的事件，在把自定义表单组件的数据传到父组件中去</p>
<h4 id="代码结构"><a href="#代码结构" class="headerlink" title="代码结构"></a>代码结构</h4><p>SearchFilter.tsx</p>
<pre class=" language-react"><code class="language-react">/**
 * 搜索组件
 * <SearchFilter
    filterConfig={this.filterConfig}
    onSubmit={this.handleSearch}
    onReset={this.handleReset}
  />
  表单配置项
  filterConfig = [
    {
      label: '备件类型',
      name: 'type',
      type: 'Button',   // 表单类型 多选按钮或单选按钮：Button（默认）、 日期：Date、 下拉选择：Select、 文本框：Text
      mode: 'multiple', // 默认多选    单选为 single
      options: [
        {
          id: '',
          label: ''
        }
      ]
    },
    {
      label: '时间周期',
      name: 'date_picker',
      type: 'Date'
    },
  ];
 */
import React, { Component } from 'react';
import { Button, Form, Row, Col, Select, Card, Input } from 'antd';
import { FormComponentProps } from 'antd/lib/form/Form';
import ChoiceDatePicker from '../ChoiceDatePicker';
import ButtonSelect from '../ButtonSelect';
import {
  filterForm, filterFormItemWithNormal,
} from './index.less';

const { Option } = Select;

export interface ItemProps {
  id: string | number;
  label: string | number;
}

export interface SearchFilterValue {
  [propName: string]: string | number | any;
}

export interface FormItem {
  label: string;
  mode: string;
  name: string;
  type: string;
  options: ItemProps[];
}

export interface SearchFilterProps extends FormComponentProps{
  onSubmit?: (values: SearchFilterValue) => void;
  onReset?: () => void;
  formInitialValue?: {
    [propName: string]: string | number;
  };
  disableFields?: string[];
  filterConfig: FormItem[];
  okButtonStyle?: {
    [propName: string]: string | number;
  };
  resetButtonStyle?: {
    [propName: string]: string | number;
  };
  buttonLocation?: 'left' | 'right';
}

export interface SearchFilterState {
}

class SearchFilter extends Component<SearchFilterProps, SearchFilterState> {

  handleSearch = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    this.props.form.validateFields((err: any, values: SearchFilterValue) => {
      const { onSubmit } = this.props;
      const formData = {};
      for (let key in values) {
        if (values[key] !== undefined) {
          if (Array.isArray(values[key])) {
            if (values[key].length > 0)
              formData[key] = values[key].join(',');
          } else {
            formData[key] = values[key];
          }
        }
      }
      if (onSubmit) onSubmit(formData);
    });
  };

  handleReset = () => {
    this.props.form.resetFields();
    const { onReset } = this.props;
    if (onReset) onReset();
  };

  isDisabled = (name: string) => {
    const { disableFields } = this.props;
    return disableFields && disableFields.length>0 && disableFields.includes(name)
  };

  render() {
    const {
      form: {getFieldDecorator},
      formInitialValue,
      filterConfig,
      okButtonStyle,
      resetButtonStyle,
      buttonLocation,
    } = this.props;
    return (
      <>
        <Card bordered={false} style={{ marginTop: 24 }}>
          <Form className={filterForm} onSubmit={this.handleSearch} labelAlign={"right"} labelCol={{xxl: {span: 1}, xl: {span: 2}, lg: {span: 3}, sm: {span: 3}}} wrapperCol={{span: 20}} style={{textAlign: 'left', marginLeft: -10}}>
            {
              filterConfig && filterConfig.map(item => {
                switch(item.type) {
                  case 'Select':
                    return <Form.Item label={item.label} key={item.name} className={filterFormItemWithNormal}>
                      {getFieldDecorator(item.name, {
                        initialValue: formInitialValue ? formInitialValue[item.name] : undefined
                      })(
                        <Select
                          showSearch
                          mode={item.mode}
                          style={{ width: '100%' }}
                          placeholder="请选择"
                          disabled={ this.isDisabled(item.name) }
                        >
                          {item.options && item.options.length > 0 ? item.options.map((valueItem: ItemProps) =>
                            (valueItem.label && <Option key={valueItem.id}>{valueItem.label}</Option>)
                          ) : undefined}
                        </Select>
                      )}
                    </Form.Item>
                    break;
                  case 'Text':
                    return <Form.Item label={item.label} key={item.name} className={filterFormItemWithNormal}>
                      {getFieldDecorator(item.name, {
                        initialValue: formInitialValue ? formInitialValue[item.name] : undefined
                      })(
                        <Input
                          allowClear
                          disabled={ this.isDisabled(item.name) }
                        />
                      )}
                    </Form.Item>
                    break;
                  case 'Date':
                    return <Form.Item label={item.label} key={item.name} className={filterFormItemWithNormal}>
                      {getFieldDecorator(item.name, {
                        initialValue: formInitialValue ? formInitialValue[item.name] : undefined
                      })(
                        <ChoiceDatePicker
                          choiceList={['oneMonth', 'halfYear', 'oneYear']}
                        />
                      )}
                    </Form.Item>
                    break;
                  default:
                    // Button
                    return <Form.Item label={item.label} key={item.name} className={filterFormItemWithNormal}>
                      {getFieldDecorator(item.name, {
                        initialValue: formInitialValue ? formInitialValue[item.name] : undefined
                      })(
                        <ButtonSelect
                          formItem={item}
                        />
                      )}
                    </Form.Item>
                    break;
                }
              })
            }
            <Row>
              <Col
                span={24}
                style={ buttonLocation && buttonLocation === 'right' ? {
                  textAlign: 'right',
                } : { textAlign: 'left', marginLeft: 10 }}
              ><Button type="primary" htmlType="submit" style={okButtonStyle}>搜索</Button>
                <Button
                  style={Object.assign({
                    marginLeft: 8,
                  }, resetButtonStyle)}
                  onClick={this.handleReset}
                >清除</Button></Col>
            </Row>
          </Form>
        </Card>
      </>
    );
  }
}

let timeout: any;
const onValuesChange = (props: SearchFilterProps, changedValues: any, allValues: any) => {
  const formData = {};
  for (let key in allValues) {
    if (allValues[key] !== undefined) {
      formData[key] = allValues[key];
      if (Array.isArray(allValues[key])) {
        if (allValues[key].length > 0)
          formData[key] = allValues[key].join(',');
      } else {
        formData[key] = allValues[key];
      }
    }
  }
  if (props.onSubmit) {
    if (timeout) {
      clearTimeout(timeout);
      timeout = null;
    }
    var debounceChange = function() {
      if (props.onSubmit)
        props.onSubmit(formData)
    };
    timeout = setTimeout(debounceChange, 500);
  }
};

export default Form.create<SearchFilterProps>({ name: 'part_filter', onValuesChange: onValuesChange })(SearchFilter);
</code></pre>
<p>ButtonSelect.tsx</p>
<pre class=" language-react"><code class="language-react">import React, { useState, useEffect } from 'react';
import { Button } from 'antd';
import {
  filterFormItemButton, filterFormItemButtonSelected,
} from './index.less';

export interface ItemProps {
  id: string | number;
  label: string | number;
}

export interface FormItem {
  label: string;
  mode: string;
  name: string;
  type: string;
  options: ItemProps[];
}

interface ButtonSelectProps {
  value?: any[] | undefined;
  onChange?: (values: any) => void;
  formItem: FormItem;
}

// 多选按钮 单选按钮
const ButtonSelect = (props: ButtonSelectProps) => {
  const { formItem, onChange, value } = props;
  const [selected, setSelected] = useState(value ? value : []);

  useEffect(() => {
    const val = props.value ? props.value : [];
    setSelected(val)
}, [props.value])

  const triggerChange = (changedValue: any[]) => {
    if (onChange) {
      onChange(changedValue);
    }
  };

  const handleChange = (item: FormItem, value: string | number) => {
    let valueList: any[] = [value];
    if (selected && selected.includes(value)) {
      valueList = selected.filter(v => v !== value);
    } else if (selected) {
      if (item.mode === 'single') {
        valueList = [value];
      } else {
        valueList = [...selected, value];
      }
    }
    setSelected(valueList);
    triggerChange(valueList);
  };

  return (
    <>
      {formItem.options && formItem.options.map((valueItem: ItemProps) =>
        <Button
          key={valueItem.id}
          size='small'
          type={selected && selected.includes(valueItem.id) ? undefined : 'link'}
          className={selected && selected.includes(valueItem.id) ? filterFormItemButtonSelected : filterFormItemButton}
          onClick={()=>{handleChange(formItem, valueItem.id)}}
        >
          {valueItem.label}
        </Button>
      )}
    </>
  );
};

export default ButtonSelect;</code></pre>
<h3 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h3><p>​    因为是实时搜索，特别是文本类型的搜索，每次输入，都会触发请求，为了节省资源，添加了防抖操作。​    </p>
<h3 id="不足之处"><a href="#不足之处" class="headerlink" title="不足之处"></a>不足之处</h3><p>​    当搜索项为下拉列表时，如果选项过多，会造成页面卡顿问题，正在解决中…..</p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2020-05-24T12:54:06.122Z" itemprop="dateUpdated">2020-05-24 20:54:06</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/2020/04/11/reactsearchcomponent/" target="_blank" rel="external">http://zhuwenyan.com/2020/04/11/reactsearchcomponent/</a>
        
    </div>
    
    <footer>
        <a href="http://zhuwenyan.com">
            <img src="/img/avatar.jpg" alt="wenyan">
            wenyan
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/" rel="tag">React</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://zhuwenyan.com/2020/04/11/reactsearchcomponent/&title=《react 搜索组件》 — wenyan's blog&pic=http://zhuwenyan.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://zhuwenyan.com/2020/04/11/reactsearchcomponent/&title=《react 搜索组件》 — wenyan's blog&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://zhuwenyan.com/2020/04/11/reactsearchcomponent/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《react 搜索组件》 — wenyan's blog&url=http://zhuwenyan.com/2020/04/11/reactsearchcomponent/&via=http://zhuwenyan.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://zhuwenyan.com/2020/04/11/reactsearchcomponent/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2020/05/24/angularcreatenew/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Angular 新建页面流程</h4>
      </a>
    </div>
  

  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "",
            appKey: "",
            avatar: "mm",
            placeholder: "Just go go",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->










</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.png" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <!-- <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div> -->
    <div class="bottom">
        <p><span>wenyan &copy; 2019 - 2021</span>
            <!-- <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span> -->
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://zhuwenyan.com/2020/04/11/reactsearchcomponent/&title=《react 搜索组件》 — wenyan's blog&pic=http://zhuwenyan.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://zhuwenyan.com/2020/04/11/reactsearchcomponent/&title=《react 搜索组件》 — wenyan's blog&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://zhuwenyan.com/2020/04/11/reactsearchcomponent/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《react 搜索组件》 — wenyan's blog&url=http://zhuwenyan.com/2020/04/11/reactsearchcomponent/&via=http://zhuwenyan.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://zhuwenyan.com/2020/04/11/reactsearchcomponent/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://zhuwenyan.com/2020/04/11/reactsearchcomponent/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = 'wenyan'blog';
            clearTimeout(titleTime);
        } else {
            document.title = 'wenyan'blog';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
